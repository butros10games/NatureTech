{% load static %}

<link rel="stylesheet" href="{% static 'css/booking/form.css' %}">
<form id="PlaceSearchForm" action="" method="post" style="display: flex; flex-direction: column; align-items: center; width: 100%; box-shadow: 0 0 10px rgba(0,0,0,0.1); border-radius: 4px; position: relative;">
    <header style="height: 48px; width: calc(100% - 48px); justify-content: flex-start; align-items: center; padding: 0 24px; border-radius: 4px 4px 0 0; position: static; z-index: 1; transition: 0.5s ease;">
        <div class="flex-row" style="justify-content: flex-start">
            <div style="min-width: 24px; width: 24px;">
                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24" height="24" viewBox="0 0 50 50" fill="#f2f2f2" stroke="#f2f2f2">
                    <path fill="#f2f2f2;" d="M 21 3 C 11.654545 3 4 10.654545 4 20 C 4 29.345455 11.654545 37 21 37 C 24.701287 37 28.127393 35.786719 30.927734 33.755859 L 44.085938 46.914062 L 46.914062 44.085938 L 33.875 31.046875 C 36.43682 28.068316 38 24.210207 38 20 C 38 10.654545 30.345455 3 21 3 z M 21 5 C 29.254545 5 36 11.745455 36 20 C 36 28.254545 29.254545 35 21 35 C 12.745455 35 6 28.254545 6 20 C 6 11.745455 12.745455 5 21 5 z"></path>
                </svg>
            </div>
            <p style="font-size: 1.45rem; font-weight: 500; color: #f2f2f2; margin-left: 12px; cursor: default;">Plek Zoeken</p>
        </div>
        <button id="toggleButton" type="button" class="colapseButton" style="background: transparent; border: none; margin-left: auto; color: #f2f2f2; height: 100%; cursor: pointer;">
            <svg id="rotateButton" class="faq-btn-arrow" id="faq-btn-arrow3" width="30" height="14" viewBox="0 0 15 8" xmlns="http://www.w3.org/2000/svg" fill="#f2f2f2" stroke="#f2f2f2" stroke-width="0.8" style="transform: rotate(0deg); transition: 0.5s ease;">
                <path fill="#f2f2f2" stroke-linecap="round" stroke-linejoin="round" d="M8.00019 6.01218L14.1325 0.755938C14.3421 0.576226 14.6578 0.600507 14.8375 0.81017L15.1629 1.1898C15.3426 1.39946 15.3183 1.71511 15.1087 1.89482L8.32558 7.70888C8.13834 7.86938 7.86204 7.86938 7.67479 7.70888L0.891723 1.89482C0.68206 1.71511 0.657779 1.39946 0.83749 1.1898L1.16289 0.810172C1.3426 0.600509 1.65825 0.576228 1.86791 0.755939L8.00019 6.01218Z"></path>
            </svg>
        </button>
    </header>
    <div id="AnimationContainer" style="overflow: hidden; width: 100%; position: absolute; top: 48px;">
        <div id="PlaceSearchContainer" class="flex-column" style="width: calc(100% - 48px); padding: 24px; gap: 8px;">
            <div class="flex-row" style="gap: 10px; height: 32px;">
                <div class="flex-row" style="gap: 10px; justify-content: flex-start; height: 100%; border-radius: 4px;">
                    <label for="NumberofGuests18Plus">Volwassenen</label>
                    <div style="display: flex; align-items: center; height: 100%; border: 1px solid black; padding: 0 6px;">
                        <button type="button" onclick="decrement('NumberofGuests18Plus')" style="border: none; background: transparent; height: 20px; width: 20px; padding: 0;">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.25 12.75H3.75a.75.75 0 0 1 0-1.5h16.5a.75.75 0 0 1 0 1.5z"></path></svg>
                        </button>
                        <input type="number" id="NumberofGuests18Plus" name="NumberofGuests18Plus" min="1" value="2" class="nonFocus" style="width: 50px; text-align: center; height: 100%; font-size: 16px; border: none; background: transparent;" readonly>
                        <button type="button" onclick="increment('NumberofGuests18Plus')" style="border: none; background: transparent; height: 20px; width: 20px; padding: 0;">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.25 11.25h-7.5v-7.5a.75.75 0 0 0-1.5 0v7.5h-7.5a.75.75 0 0 0 0 1.5h7.5v7.5a.75.75 0 0 0 1.5 0v-7.5h7.5a.75.75 0 0 0 0-1.5z"></path></svg>
                        </button>
                    </div>
                </div>
            
                <div class="flex-row" style="gap: 10px; justify-content: flex-start; height: 100%; border-radius: 4px;">
                    <label for="NumberofGuests18Minus">Kinderen</label>
                    <div style="display: flex; align-items: center; height: 100%; border: 1px solid black; padding: 0 6px;">
                        <button type="button" onclick="decrement('NumberofGuests18Minus')" style="border: none; background: transparent; height: 20px; width: 20px; padding: 0;">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.25 12.75H3.75a.75.75 0 0 1 0-1.5h16.5a.75.75 0 0 1 0 1.5z"></path></svg>
                        </button>
                        <input type="number" id="NumberofGuests18Minus" name="NumberofGuests18Minus" min="0" value="0" class="nonFocus" style="width: 50px; text-align: center; height: 100%; font-size: 16px; border: none; background: transparent;" readonly>
                        <button type="button" onclick="increment('NumberofGuests18Minus')" style="border: none; background: transparent; height: 20px; width: 20px; padding: 0;">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.25 11.25h-7.5v-7.5a.75.75 0 0 0-1.5 0v7.5h-7.5a.75.75 0 0 0 0 1.5h7.5v7.5a.75.75 0 0 0 1.5 0v-7.5h7.5a.75.75 0 0 0 0-1.5z"></path></svg>
                        </button>
                    </div>
                </div>
            </div>
            
            <input type="submit" value="Search" id="button" class="button">
        </div>
    </div>
    <div id="PlaceSearchContainerPsudo" style="transition: 0.5s ease;"></div>
</form>

<script>
    var placeSearchForm = document.querySelector('#PlaceSearchForm');
    var toggleButton = placeSearchForm.querySelector('#toggleButton');
    var placeSearchContainer = placeSearchForm.querySelector('#PlaceSearchContainer');

    toggleButton.addEventListener('click', function() {
        var rotateButton = placeSearchForm.querySelector('#rotateButton');
        var header = placeSearchForm.querySelector('header');
    
        placeSearchContainer.classList.toggle('collapsed');
    
        rotateButton.style.transform = 
            placeSearchContainer.classList.contains('collapsed') ? 'rotate(-90deg)' : 'rotate(0deg)';

        rotateButton.classList.toggle('closed');
        
        if (placeSearchContainer.classList.contains('collapsed')) {
            placeSearchContainerPsudo.style.height = '0px';

            header.style.borderRadius = '4px 4px 4px 4px';
        } else {
            placeSearchContainerPsudo.style.height = placeSearchContainer.offsetHeight + 'px';

            header.style.borderRadius = '4px 4px 0 0';
        }
    });

    var placeSearchContainerPsudo = placeSearchForm.querySelector('#PlaceSearchContainerPsudo');

    placeSearchContainerPsudo.style.height = placeSearchContainer.offsetHeight + 'px';

    function increment(id) {
        var input = document.getElementById(id);
        var value = parseInt(input.value, 10);
        value = isNaN(value) ? 0 : value;
        value++;
        input.value = value;
    }
    
    function decrement(id) {
        var input = document.getElementById(id);
        var value = parseInt(input.value, 10);
        value = isNaN(value) ? 0 : value;
        value--;
        if (value < input.min) {
            value = input.min;
        }
        input.value = value;
    }
</script>